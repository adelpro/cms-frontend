@import 'tailwindcss';
@import 'tw-animate-css';

/* Custom variants (Tailwind v4 syntax) */
@custom-variant dark (&:is(.dark *));
@custom-variant rtl (&:is([dir="rtl"] *));
@custom-variant ltr (&:is([dir="ltr"] *));

/* Global container */
.max-width-container,
main {
  max-width: 1280px;
  margin-inline: auto;
  width: 100%;
  padding-inline: 1rem;
}

main > div[class*='max-w-'],
main > div[class*='container'] {
  padding-inline: 0;
}

/* Theme variables */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
}

/* Light & dark colors (OKLCH) */
:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
}

/* Base Layer (shadcn-compatible) */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    text-align: start;
  }

  html {
    color-scheme: light dark;
    direction: inherit;
  }

  html.dark {
    color-scheme: dark;
  }

  html[dir='rtl'] * {
    direction: rtl;
  }

  html[dir='rtl'] .text-left {
    text-align: right;
  }

  html[dir='rtl'] .text-right {
    text-align: left;
  }

  html[dir='rtl'] .justify-start {
    justify-content: flex-end;
  }

  html[dir='rtl'] .justify-end {
    justify-content: flex-start;
  }

  .font-arabic {
    font-family: 'Geist Sans', 'Noto Sans Arabic', 'Cairo', 'Tajawal', system-ui, sans-serif;
    font-feature-settings:
      'kern' 1,
      'liga' 1,
      'calt' 1;
  }

  /* Logical alignment utilities */
  .text-start {
    text-align: start;
  }
  .text-end {
    text-align: end;
  }

  /* Line clamp utilities */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
}
